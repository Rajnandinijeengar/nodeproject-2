<!DOCTYPE html>
<html>
<head>
  <title>Product Management</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      background: #f9f9f9;
    }
    .gone a img{
      height: 30px;
      width: 30px;

    }
    header {
      background-color: #add8e6;
      color: white;
      padding: 15px 20px;
      height: 100px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    nav a {
      color: white;
      text-decoration: none;
      margin: 0 10px;
      font-weight: bold;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .dropdown {
      position: relative;
      display: inline-block;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      background-color: white;
      min-width: 150px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      z-index: 1;
    }
    .dropdown-content a {
      color: #007bff;
      padding: 8px 12px;
      text-decoration: none;
      display: block;
    }
    .dropdown-content a:hover {
      background-color: #f1f1f1;
    }
    .dropdown:hover .dropdown-content {
      display: block;
    }
    main {
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background: white;
      margin-top: 20px;
      border-radius: 5px;
      box-shadow: 0 0 5px #ccc;
    }
    footer {
      text-align: center;
      padding: 15px;
      margin-top: 40px;
      background-color: #add8e6;
      color: #555;
      font-size: 0.9em;
    }
  </style>


<body class="container-fluid ">
  
<header>
  <div class="gone">

<a href="#" style="font-size: 50px; color: white; text-decoration: none;">
  Trendy-Trove
</a>
  </div>
  <nav>
    <a href="#">Home</a>
    <a href="#">Products / Shop</a>

  
      <a href="#">Categories </a>
      

  </nav>
</header>


<div class="wolf" style="height: 150px; width: 100%;  display: flex; justify-content: center; align-items: center;  background-image: url(/img/beauty.jpg);">
    <nav class="breadcrumb" style="background-color: transparent;">
        <a class="breadcrumb-item" href="/" style="font-size: 20px; color: white; text-decoration: none; font-weight: bold;">Index</a>
        <a class="breadcrumb-item" href="/members" style="font-size: 20px; color: white; text-decoration: none; font-weight: bold;">Products</a>
   
    </nav>
    </div>


  <h1 style="text-align: center; font-size: 50px;  color: #6fc0db;">Manage Products</h1>
  <div class="row">
    <div class="col-lg-1">

    </div>
    <div class="col-lg-10">
       <div class="row mt-4">
    <!-- Add/Edit Form -->
    <div class="col-lg-6">
      <div class="card p-3 " style="background-color: #e1eef2;">
        <h4 style="font-size: 40px; color: #6fc0db;"><%= editProduct ? "Edit Product" : "Add Product" %></h4>
        <form action="<%= editProduct ? '/products/update/' + editProduct._id : '/products/add' %>" method="POST" enctype="multipart/form-data">
          
          <div class="form-group">
            <label style="font-size: 20px; color: #6fc0db;">Product Name</label>
            <input type="text" name="name" class="form-control" value="<%= editProduct ? editProduct.name : '' %>" required>
          </div>
          <div class="form-group">
            <label style="font-size: 20px; color: #6fc0db;">Category</label>
            <select name="category" class="form-control" required>
              <option value="">Select Category</option>
              <% categories.forEach(cat => { %>
                <option value="<%= cat._id %>" <%= editProduct && editProduct.category.equals(cat._id) ? "selected" : "" %> >
                  <%= cat.name %>
                </option>
              <% }) %>
            </select>
          </div>
          <div class="form-group">
            <label style="font-size: 20px; color: #6fc0db;">Price</label>
            <input type="number" name="price" class="form-control" value="<%= editProduct ? editProduct.price : '' %>" required>
          </div>
          <div class="form-group">
            <label style="font-size: 20px; color: #6fc0db;">Description</label>
            <textarea name="description" class="form-control"><%= editProduct ? editProduct.description : '' %></textarea>
          </div>
          <div class="form-group">
            <label style="font-size: 20px; color: #6fc0db;">Image</label>
            <input type="file" name="image" class="form-control" <%= editProduct ? "" : "required" %> >
            <% if(editProduct) { %>
              <img src="/images/<%= editProduct.image %>" style="width:100px; margin-top:10px;  ">
            <% } %>
          </div>
          <button type="submit" class="btn " style="height: 40px; width: 20%; background:#add8e6; color: white;"><%= editProduct ? "Update" : "Add" %></button>
          <% if(editProduct) { %>
            <a href="/products" class="btn btn-secondary">Cancel</a>
          <% } %>
        </form>
      </div>
    </div>

    <!-- Product List -->
    <div class="col-lg-6">
      <div class="card p-3" style="background-color: #e1eef2;">
        <h4 style="font-size: 40px; color: #6fc0db;">Product List</h4>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th style="font-size: 20px; color: #6fc0db;">Name</th>
              <th style="font-size: 20px; color: #6fc0db;">Category</th>
              <th style="font-size: 20px; color: #6fc0db;">Price</th>
              <th style="font-size: 20px; color: #6fc0db;">Image</th>
              <th style="font-size: 20px; color: #6fc0db;">Actions</th>
            </tr>
          </thead>
          <tbody>
            <% products.forEach(prod => { %>
              <tr>
                <td><%= prod.name %></td>
                <td><%= prod.category.name %></td>
                <td>â‚¹<%= prod.price %></td>
                <td><img src="/images/<%= prod.image %>" style="width:50px;"></td>
                <td>
                  <a href="/products/edit/<%= prod._id %>" class="btn btn-sm " style="height: 35px; width: 40%; background:#add8e6; color: white;">Edit</a>
                  <a href="/products/delete/<%= prod._id %>" class="btn btn-sm " style="height: 35px; width: 40%;  background:#add8e6; color: white;" onclick="return confirm('Delete this product?')">Delete</a>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
    </div>
    <div class="col-lg-1">

    </div>
  </div>

 

  <footer class=" text-white mt-5 pt-4 pb-4" >
  <div class="container">
    <div class="row">

      <!-- About Section -->
      <div class="col-md-4 mb-3">
        <h5 style="font-size: 25px; color: white;"> About Trendy-Trove</h5>
        <p style="font-size: 16px; color: white;">Your one-stop shop for the latest in fashion, electronics, books, and home essentials. Quality products with great deals!</p>
      </div>

      <!-- Quick Links -->
      <div class="col-md-2 mb-3">
        <h5 style="font-size: 25px; color: white;">Quick Links</h5>
        <ul class="list-unstyled">
          <li><a style="font-size: 16px; color: white;" href="/" class="text-white">Home</a></li>
          <li><a  style="font-size: 16px; color: white;" href="/products" class="text-white">Products</a></li>
          <li><a style="font-size: 16px; color: white;" href="/shop" class="text-white">Shop</a></li>
          <li><a style="font-size: 16px; color: white;" href="/contact" class="text-white">Contact Us</a></li>
        </ul>
      </div>

      <!-- Customer Support -->
      <div class="col-md-3 mb-3">
        <h5 style="font-size: 25px; color: white;">Customer Support</h5>
        <ul class="list-unstyled">
          <li style="font-size: 16px; color: white;">Email: support@trendy-trove.com</li>
          <li style="font-size: 16px; color: white;">Phone: +91 12345 67890</li>
          <li style="font-size: 16px; color: white;">Help Center</li>
        </ul>
      </div>

      <!-- Social Media -->
      <div class="col-md-3 mb-3">
        <h5 style="font-size: 25px; color: white;">Follow Us</h5>
        <a style="font-size: 16px; color: white;" href="#" class="text-white mr-3"><i class="fab fa-facebook fa-lg"></i></a>
        <a style="font-size: 16px; color: white;" href="#" class="text-white mr-3"><i class="fab fa-twitter fa-lg"></i></a>
        <a style="font-size: 16px; color: white;" href="#" class="text-white mr-3"><i class="fab fa-instagram fa-lg"></i></a>
        <a style="font-size: 16px; color: white;" href="#" class="text-white"><i class="fab fa-linkedin fa-lg"></i></a>
      </div>

    </div>
    <hr color="white">
    <div class="text-center">
      &copy; <%= new Date().getFullYear() %> Trendy-Trove. All Rights Reserved.
    </div>
  </div>
</footer>



</body>
</html>
